<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Nightreign Effect Tool</title>

    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
    <link rel="stylesheet" href="../styles/site.css">
    <link rel="stylesheet" href="../styles/reliquary/layout.css">
    <link rel="stylesheet" href="../styles/reliquary/results.css">
    <link rel="stylesheet" href="../styles/reliquary/components.css">
    <link rel="stylesheet" href="../styles/reliquary/details.css">
    <!-- MUST be last -->
    <link rel="stylesheet" href="../styles/reliquary/overrides.css">

    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <main class="app-shell app-grid">

      <!-- HERO (global renderer) -->
      <header
        id="globalHero"
        class="hero"
        data-hero-image="../Assets/home/Reliquary.png"
        data-hero-h1="The Round Table Codex"
        data-hero-h2="Reliquary"
        data-hero-build="true"
      ></header>

      <!-- NAV (global) -->
      <nav id="globalNav" class="tool-nav" aria-label="Primary navigation"></nav>

      <section class="tool-shell">

        <!-- TOP (Filters + Instructions) -->
        <section class="top-grid">
          <div class="top-grid__left">
            <!-- OPTIONS -->
            <section class="options-panel">
              <div class="options-row">
                <label>
                  Relic Type
                  <select id="relicType">
                    <option value="All" selected>All</option>
                    <option value="Standard">Standard</option>
                    <option value="Both">Both</option>
                    <option value="Depth Of Night">Depth Of Night</option>
                  </select>
                  <small class="field-subtext">Filters effects below</small>
                </label>

                <div class="options-controls">
                  <div class="options-controls__left">
                    <label class="inline-check">
                      <input type="checkbox" id="showIllegal" />
                      Show Illegal Combinations
                    </label>
                  </div>

                  <div class="options-controls__right">
                    <button id="startOver" class="secondary" type="button">Start Over</button>
                  </div>
                </div>
              </div>
            </section>
          </div>

          <div class="top-grid__right">
            <!-- INSTRUCTIONS -->
            <section class="instructions-panel">

              <h3>Instructions</h3>
              <p>
                Select the effects you want on your relic, and the reliquary will tell you how to make it a legal combination&mdash;if it's possible.
              </p>

              <h4>Disclaimer</h4>
              <p>
                This tool is an <strong>unofficial</strong> community helper for planning effect combinations. It does <strong>not</strong> modify your game, connect to your account,
                or guarantee anything about online safety. You are responsible for how you use the information provided here and for any changes you make to your save/data.
              </p>
              <p>
                Compatibility rules and outcomes can change with patches, anticheat updates, and server-side checks.
                If you're not sure whether a change is safe, assume it isn't and keep your relics unedited for online play.
              </p>
              <p class="disclaimer-warning">
                <span style="color: rgba(255, 115, 115, 0.95); font-weight: 800; text-decoration: underline;">
                  Please do not play online with illegal relics.
                </span>
              </p>
            </section>
          </div>
        </section>

        <!-- MAIN GRID -->
        <section class="main-grid">

          <section class="right-column">

            <article id="results">
              <div class="panel-header">
                <h3>Relic Preview</h3>
                <div class="panel-header__right">
                  <span id="relicValidity" class="validity-badge" hidden>Valid</span>
                  <button id="autoSortBtn" class="auto-sort-btn" type="button" hidden>Auto-Sort</button>
                </div>
              </div>

              <div class="relic-preview">
                <div class="relic-frame">
                  <img id="relicImg" alt="Relic preview" />
                  <div id="relicColorControl" class="relic-color-control" hidden>
                    <button
                      id="relicColorChip"
                      class="relic-color-chip"
                      type="button"
                      aria-haspopup="listbox"
                      aria-expanded="false"
                    >
                      <span class="sr-only">Relic color</span>
                    </button>
                    <div id="relicColorMenu" class="relic-color-menu" role="listbox" aria-label="Choose relic color"></div>
                  </div>
                </div>

                <div class="relic-effects">
                  <div class="slot-counts">
                    <small class="subtext" id="count1"></small>
                    <small class="subtext" id="count2"></small>
                    <small class="subtext" id="count3"></small>
                  </div>
                  <ul class="chosen-effects" id="chosenList"></ul>
                </div>
              </div>
            </article>

            <article id="details">
              <div class="panel-header">
                <h3>Details</h3>
              </div>

              <div id="detailsBody" class="details-body"></div>
            </article>

          </section>
        </section>

        <!-- FOOTER (global) -->
        <footer id="globalFooter" class="site-footer"></footer>

      </section>

    </main>
    <script type="module" src="../scripts/hero.js"></script>
    <script type="module" src="./reliquary.js"></script>
    <script type="module" src="../scripts/chrome.js"></script>
</body>
</html>
